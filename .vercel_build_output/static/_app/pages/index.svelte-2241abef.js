import{S as s,i as a,s as e,e as t,k as l,t as r,c,a as n,d as o,n as i,g as u,b as h,f as p,D as f,H as d,h as g,I as m,J as b,K as v,L as x,E as y,M as w,N as E}from"../chunks/vendor-886a2fd2.js";function j(s,a,e){const t=s.slice();return t[4]=a[e],t[6]=e,t}function I(s){let a,e,b,v,x,y,w,E,j,I,k,D,$,q=s[4].label+"";return{c(){a=t("a"),e=t("div"),b=t("img"),y=l(),w=t("h2"),E=r(q),j=l(),this.h()},l(s){a=c(s,"A",{href:!0,class:!0});var t=n(a);e=c(t,"DIV",{class:!0});var l=n(e);b=c(l,"IMG",{src:!0,alt:!0,class:!0,loading:!0}),l.forEach(o),y=i(t),w=c(t,"H2",{class:!0});var r=n(w);E=u(r,q),r.forEach(o),j=i(t),t.forEach(o),this.h()},h(){b.src!==(v=s[4].image)&&h(b,"src",v),h(b,"alt",x=s[4].label),h(b,"class","rounded-2xl"),h(b,"loading","lazy"),h(e,"class","aspect-w-4 aspect-h-3"),h(w,"class","text-md font-semibold mt-2 text-center text-gray-800"),h(a,"href",I="/recipe/"+s[4].uri.split("_")[1]),h(a,"class","")},m(t,l){p(t,a,l),f(a,e),f(e,b),f(a,y),f(a,w),f(w,E),f(a,j),D||($=d(k=M.call(null,a,s[4])),D=!0)},p(e,t){s=e,1&t&&b.src!==(v=s[4].image)&&h(b,"src",v),1&t&&x!==(x=s[4].label)&&h(b,"alt",x),1&t&&q!==(q=s[4].label+"")&&g(E,q),1&t&&I!==(I="/recipe/"+s[4].uri.split("_")[1])&&h(a,"href",I),k&&m(k.update)&&1&t&&k.update.call(null,s[4])},d(s){s&&o(a),D=!1,$()}}}function k(s){let a,e,r,u,d,g,m=s[0],k=[];for(let t=0;t<m.length;t+=1)k[t]=I(j(s,m,t));return{c(){a=t("form"),e=t("input"),r=l(),u=t("div");for(let s=0;s<k.length;s+=1)k[s].c();this.h()},l(s){a=c(s,"FORM",{action:!0,class:!0});var t=n(a);e=c(t,"INPUT",{type:!0,class:!0,placeholder:!0}),t.forEach(o),r=i(s),u=c(s,"DIV",{class:!0});var l=n(u);for(let a=0;a<k.length;a+=1)k[a].l(l);l.forEach(o),this.h()},h(){h(e,"type","text"),h(e,"class","bg-gray-100 w-full p-4 rounded-xl focus:outline-none focus:border-yellow-700 border-2 border-transparent"),h(e,"placeholder","Search for recipes..."),h(a,"action",""),h(a,"class","my-6"),h(u,"class","grid grid-col-2 sm:grid-cols-3 gap-8")},m(t,l){p(t,a,l),f(a,e),b(e,s[1]),p(t,r,l),p(t,u,l);for(let s=0;s<k.length;s+=1)k[s].m(u,null);d||(g=[v(e,"input",s[3]),v(a,"submit",x(s[2]))],d=!0)},p(s,[a]){if(2&a&&e.value!==s[1]&&b(e,s[1]),1&a){let e;for(m=s[0],e=0;e<m.length;e+=1){const t=j(s,m,e);k[e]?k[e].p(t,a):(k[e]=I(t),k[e].c(),k[e].m(u,null))}for(;e<k.length;e+=1)k[e].d(1);k.length=m.length}},i:y,o:y,d(s){s&&o(a),s&&o(r),s&&o(u),w(k,s),d=!1,E(g)}}}async function D({page:s,fetch:a,session:e,context:t}){const l=await a("/api/search.json?q=pollo");return l.ok?{props:{recipes:await l.json()}}:{status:l.status,error:new Error("Could not load")}}function M(s,a){s.addEventListener("submit",(s=>{}))}function $(s,a,e){let t,{recipes:l}=a;return s.$$set=s=>{"recipes"in s&&e(0,l=s.recipes)},[l,t,async function(){const s=await fetch(`/api/search.json?q=${t}`);s.ok&&e(0,l=await s.json())},function(){t=this.value,e(1,t)}]}export default class extends s{constructor(s){super(),a(this,s,$,k,e,{recipes:0})}}export{D as load};
